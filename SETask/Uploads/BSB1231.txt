CREATE TABLE BANK(
    ID INTEGER NOT NUll,
    BANKNAME VARCHAR(20) NOT NULL UNIQUE,
    BANKNUMBER INTEGER NOT NULL UNIQUE,
    PRIMARY KEY (ID),
    CONSTRAINT CHK_BANK CHECK(BANKNUMBER >=10 AND BANKNUMBER <=99)
);

CREATE TABLE STATES(
    ID INTEGER NOT NULL,
    STATENAME VARCHAR(50) NOT NULL UNIQUE,
    STATENUMBER INTEGER NOT NULL UNIQUE,
    PRIMARY KEY(ID),
    CONSTRAINT CHK_STATE CHECK(STATENUMBER >=0 AND STATENUMBER <=9)
);

CREATE TABLE ADDRESS(
    ID INTEGER NOT NULL,
    ADDRESSNAME VARCHAR(50) NOT NULL UNIQUE,
    ADDRESSNUMBER INTEGER NOT NULL UNIQUE,
    PRIMARY KEY(ID),
    CONSTRAINT CHK_ADDRESS CHECK(ADDRESSNUMBER >= 100 AND ADDRESSNUMBER <=999)
);

CREATE TABLE BSB(
    BANKNUMBER INTEGER NOT NULL,
    STATENUMBER INTEGER NOT NULL,
    ADDRESSNUMBER INTEGER NOT NULL,
    PRIMARY KEY(BANKNUMBER,STATENUMBER,ADDRESSNUMBER),
    CONSTRAINT BSB_ADDRESS CHECK(ADDRESSNUMBER >= 100 AND ADDRESSNUMBER <=999),
    CONSTRAINT BSB_STATE CHECK(STATENUMBER >=0 AND STATENUMBER <=9),
    CONSTRAINT BSB_BANK CHECK(BANKNUMBER >=10 AND BANKNUMBER <=99),
    CONSTRAINT FK_BANKNUMBER_BSB FOREIGN KEY(BANKNUMBER) 
    REFERENCES BANK(ID),
    CONSTRAINT FK_STATENUMBER_BSB FOREIGN KEY(STATENUMBER) 
    REFERENCES STATES(ID),
    CONSTRAINT FK_ADDRESSNUMBER_BSB FOREIGN KEY(ADDRESSNUMBER) 
    REFERENCES ADDRESS(ID)
);
